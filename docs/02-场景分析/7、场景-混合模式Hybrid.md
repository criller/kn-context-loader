# 场景：混合模式（Hybrid NL + Structure）

目标（聚焦用户与业务）
- 在自然语言中嵌入结构化限定（对象类型、关系类型、属性过滤、时间范围、排序/限制），提升可执行性与可控性。

用户故事（化工示例，可替换为你们领域）
- HY-001 企业→专利过滤
  - “查找企业A在2021年后授权的、IPC包含C07D的专利，并返回专利摘要”
  - 按TBox的关系路径：enterprise → patent（enterprise_2_patent，一跳）；节点属性过滤：patent.status=授权、grant_date>2021-01-01、ipc 包含 C07D
  - 期望：识别对象与关系、应用状态/日期/分类过滤，返回所需属性。
- HY-002 物料→反应→产物过滤
  - “查找乙醇参与的氧化类反应产生的产物，并限制返回前100个”
  - 按TBox的关系路径：material → reaction（material_2_reaction，一跳，过滤 reaction.type=氧化还原）→ material（reaction_2_material，一跳）；limit=100
  - 期望：识别链路与关系类型、应用反应类型过滤与数量限制。

基础能力（文本版）
- 能从NL中识别并承载结构化限定（对象类型、关系类型、属性名、过滤条件、时间范围、排序/limit）。
- 支持别名与字段归一（如“授权日期”对应“grant_date”，“氧化类反应”对应“reaction.type=氧化还原”）。
- 支持在基本能力范围内执行相应检索（实例检索、子图查询、属性获取），并将限定应用到结果过滤。
- 对复杂表达式或暂不支持的限定，给出澄清或降级策略（说明可能影响与风险）。

注意事项
- 明确限定适用的维度（是节点属性过滤还是边属性、关系类型过滤）；
- 控制结果规模与排序，避免不可控的超大范围检索；
- 对术语/别名歧义进行澄清，保持透明。

验收要点（M1）
- 能识别常见限定类型并正确应用过滤；
- 能处理别名与术语归一；
- 对超出能力的限定提供澄清或降级提示并说明影响。